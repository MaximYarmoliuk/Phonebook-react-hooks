{"version":3,"sources":["redux/contacts/contactsActions.js","components/Navigation/Navigation.js","components/UserMenu/UserMenu.js","components/AuthNav/AuthNav.js","components/AppBar/AppBar.js","components/Layout/Layout.js","routes.js","components/PublicRoute/PublicRoute.js","components/PrivateRoute/PrivateRoute.js","components/App/App.js","redux/store.js","index.js","redux/auth/authOperations.js","redux/auth/authSelectors.js","components/Navigation/Navigation.module.css","constants/errorConstants.js","helpers/errorMessage.js","components/AuthNav/AuthNav.module.css","redux/auth/authReducer.js","components/UserMenu/UserMenu.module.css","redux/contacts/contactsReducer.js","components/AppBar/AppBar.module.css","redux/auth/authActions.js","components/Layout/Layout.module.css"],"names":["addContactsRequest","createAction","addContactsSuccess","addContactsError","fetchContactsRequest","fetchContactsSuccess","fetchContactsError","removeContactsRequest","removeContactsSuccess","removeContactsError","changeFilter","Navigation","isAuthenticated","useSelector","state","authSelectors","className","styles","container","to","exact","link","activeClassName","activeLink","width","height","viewBox","aria-labelledby","id","d","Divider","UserMenu","dispatch","useDispatch","name","getUserName","IconButton","edge","color","aria-label","title","onClick","authOperations","logout","fill","AuthNav","AppBar","useState","anchorEl","setAnchorEl","position","Toolbar","event","currentTarget","keepMounted","open","Boolean","onClose","MenuItem","style","display","Layout","children","path","label","component","lazy","private","restricted","PublicRoute","Component","routeProps","render","props","PrivateRoute","App","useEffect","getCurrentUser","CssBaseline","fallback","type","left","top","routes","map","route","key","authPersistConfig","storage","whitelist","store","configureStore","reducer","contacts","contactsReducer","auth","persistReducer","authReducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","persistor","persistStore","ReactDOM","loading","document","getElementById","token","tokenId","axios","defaults","headers","common","Authorization","baseURL","post","register","credentials","authActions","registerRequest","then","response","data","registerSuccess","catch","error","errorMessage","getErrorText","registerError","message","login","loginRequest","loginSuccess","loginError","logoutRequest","logoutSuccess","logoutError","getState","persistedToken","getCurrentUserRequest","get","getCurrentUserSuccess","getCurrentUserError","localStorage","clear","user","getError","module","exports","errors","text","find","Swal","fire","icon","initialUserState","email","createReducer","_","payload","combineReducers","items","contactActions","action","filter","contact","fetchError","addError","removeError"],"mappings":"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","file":"static/js/main.9e13bf0e.chunk.js","sourcesContent":["import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nconst addContactsRequest = createAction(\"/contacts/addRequest\");\r\nconst addContactsSuccess = createAction(\"/contacts/addSuccess\");\r\nconst addContactsError = createAction(\"/contacts/addError\");\r\n\r\nconst fetchContactsRequest = createAction(\"/contacts/fetchRequest\");\r\nconst fetchContactsSuccess = createAction(\"/contacts/fetchSuccess\");\r\nconst fetchContactsError = createAction(\"/contacts/fetchError\");\r\n\r\nconst removeContactsRequest = createAction(\"/contacts/removeRequest\");\r\nconst removeContactsSuccess = createAction(\"/contacts/removeSuccess\");\r\nconst removeContactsError = createAction(\"/contacts/removeError\");\r\n\r\nconst changeFilter = createAction(\"contacts/changeFilter\");\r\n\r\nexport default {\r\n  addContactsRequest,\r\n  addContactsSuccess,\r\n  addContactsError,\r\n  fetchContactsRequest,\r\n  fetchContactsSuccess,\r\n  fetchContactsError,\r\n  removeContactsRequest,\r\n  removeContactsSuccess,\r\n  removeContactsError,\r\n  changeFilter\r\n};\r\n","import React from \"react\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { authSelectors } from \"../../redux/auth\";\r\nimport styles from \"./Navigation.module.css\";\r\n\r\nexport default function Navigation() {\r\n  const isAuthenticated = useSelector((state) =>\r\n    authSelectors.isAuthenticated(state)\r\n  );\r\n  return (\r\n    <nav className={styles.container}>\r\n      <NavLink\r\n        to=\"/\"\r\n        exact\r\n        className={styles.link}\r\n        activeClassName={styles.activeLink}\r\n      >\r\n        <svg\r\n          className=\"umbrella\"\r\n          width=\"24\"\r\n          height=\"24\"\r\n          viewBox=\"0 0 24 24\"\r\n          aria-labelledby=\"goHomePage\"\r\n        >\r\n          <title id=\"homeIcon\">Home</title>\r\n          <path d=\"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\" />\r\n        </svg>\r\n      </NavLink>\r\n\r\n      {isAuthenticated && (\r\n        <>\r\n          <Divider />\r\n          <NavLink\r\n            to=\"/contacts\"\r\n            exact\r\n            className={styles.link}\r\n            activeClassName={styles.activeLink}\r\n          >\r\n            Contacts\r\n          </NavLink>\r\n        </>\r\n      )}\r\n    </nav>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport { authSelectors, authOperations } from \"../../redux/auth\";\r\nimport styles from \"./UserMenu.module.css\";\r\n\r\nexport default function UserMenu() {\r\n  const dispatch = useDispatch();\r\n  const name = useSelector((state) => authSelectors.getUserName(state));\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <p className={styles.name}>Welcome, {name}</p>\r\n\r\n      <IconButton\r\n        edge=\"start\"\r\n        color=\"inherit\"\r\n        aria-label=\"menu\"\r\n        title=\"Logout\"\r\n        onClick={() => dispatch(authOperations.logout())}\r\n      >\r\n        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\r\n          <path\r\n            fill=\"currentColor\"\r\n            d=\"M16,17V14H9V10H16V7L21,12L16,17M14,2A2,2 0 0,1 16,4V6H14V4H5V20H14V18H16V20A2,2 0 0,1 14,22H5A2,2 0 0,1 3,20V4A2,2 0 0,1 5,2H14Z\"\r\n          />\r\n        </svg>\r\n      </IconButton>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport styles from \"./AuthNav.module.css\";\r\n\r\nconst AuthNav = () => (\r\n  <div>\r\n    <NavLink\r\n      to=\"/register\"\r\n      exact\r\n      className={styles.link}\r\n      activeClassName={styles.activeLink}\r\n    >\r\n      Register\r\n    </NavLink>\r\n    <NavLink\r\n      to=\"/login\"\r\n      exact\r\n      className={styles.link}\r\n      activeClassName={styles.activeLink}\r\n    >\r\n      Login\r\n    </NavLink>\r\n  </div>\r\n);\r\n\r\nexport default AuthNav;\r\n","import React, {useState} from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Navigation from \"../Navigation/Navigation\";\r\nimport UserMenu from \"../UserMenu/UserMenu\";\r\nimport AuthNav from \"../AuthNav/AuthNav\";\r\nimport { authSelectors } from \"../../redux/auth\";\r\nimport Appbar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport styles from \"./AppBar.module.css\";\r\n\r\nexport default function AppBar() {\r\n  const isAuthenticated = useSelector((state) => authSelectors.isAuthenticated(state));\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Appbar position=\"static\">\r\n        <Toolbar className={styles.container}>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            title=\"Menu\"\r\n            aria-label=\"menu\"\r\n            onClick={handleClick}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n\r\n          <Menu\r\n            anchorEl={anchorEl}\r\n            keepMounted\r\n            open={Boolean(anchorEl)}\r\n            onClose={handleClose}\r\n          >\r\n            <MenuItem>\r\n              <Navigation />\r\n            </MenuItem>\r\n          </Menu>\r\n\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n            }}\r\n          >\r\n            {isAuthenticated ? <UserMenu /> : <AuthNav />}\r\n          </div>\r\n        </Toolbar>\r\n      </Appbar>\r\n    </div>\r\n  );\r\n}\r\n\r\n","import React from \"react\";\r\nimport AppBar from \"../AppBar/AppBar\";\r\nimport styles from \"./Layout.module.css\";\r\n\r\nconst Layout = ({ children }) => (\r\n  <div className={styles.container}>\r\n    <AppBar />\r\n    {children}\r\n  </div>\r\n);\r\n\r\nexport default Layout;\r\n","import { lazy } from \"react\";\r\n\r\nexport default [\r\n  {\r\n    path: \"/\",\r\n    label: \"Home\",\r\n    exact: true,\r\n    component: lazy(() => import(\"./views/Home/Home\")),\r\n    private: false,\r\n    restricted: false,\r\n  },\r\n  {\r\n    path: \"/register\",\r\n    label: \"Register\",\r\n    exact: true,\r\n    component: lazy(() => import(\"./views/Register/Register\")),\r\n    private: false,\r\n    restricted: true,\r\n  },\r\n  {\r\n    path: \"/login\",\r\n    label: \"Login\",\r\n    exact: true,\r\n    component: lazy(() => import(\"./views/Login/Login\")),\r\n    private: false,\r\n    restricted: true,\r\n  },\r\n  {\r\n    path: \"/contacts\",\r\n    label: \"Contacts\",\r\n    exact: true,\r\n    component: lazy(() => import(\"./views/Contacts/Contacts\")),\r\n    private: true,\r\n    restricted: false,\r\n  },\r\n];\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { authSelectors } from \"../../redux/auth\";\r\n\r\nexport default function PublicRoute({ component: Component, ...routeProps }) {\r\n  const isAuthenticated = useSelector((state) =>\r\n    authSelectors.isAuthenticated(state)\r\n  );\r\n  return (\r\n    <Route\r\n      {...routeProps}\r\n      render={(props) =>\r\n        isAuthenticated && routeProps.restricted ? (\r\n          <Redirect to=\"/contacts\" />\r\n        ) : (\r\n          <Component {...props} />\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { authSelectors } from \"../../redux/auth\";\r\n\r\nexport default function PrivateRoute({ component: Component, ...routeProps }) {\r\n  const isAuthenticated = useSelector((state) =>\r\n    authSelectors.isAuthenticated(state)\r\n  );\r\n  return (\r\n    <Route\r\n      {...routeProps}\r\n      render={(props) =>\r\n        isAuthenticated ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n      }\r\n    />\r\n  );\r\n}\r\n","import React, { Suspense, useEffect } from \"react\";\r\nimport { BrowserRouter, Switch } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport { authOperations } from \"../../redux/auth\";\r\nimport Layout from \"../Layout/Layout\";\r\nimport routes from \"../../routes\";\r\nimport PublicRoute from \"../PublicRoute/PublicRoute\";\r\nimport PrivateRoute from \"../PrivateRoute/PrivateRoute\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nexport default function App() {\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    const onGetCurrentUser = () => {\r\n      dispatch(authOperations.getCurrentUser());\r\n    };\r\n    onGetCurrentUser();\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <div>\r\n      <BrowserRouter>\r\n        <CssBaseline />\r\n        <Layout>\r\n          <Suspense\r\n            fallback={\r\n              <Loader\r\n                type=\"Oval\"\r\n                color=\"#00BFFF\"\r\n                height={50}\r\n                width={50}\r\n                style={{ position: \"absolute\", left: \"50%\", top: \"90px\" }}\r\n              />\r\n            }\r\n          >\r\n            <Switch>\r\n              {routes.map((route) =>\r\n                route.private ? (\r\n                  <PrivateRoute key={route.label} {...route} />\r\n                ) : (\r\n                  <PublicRoute key={route.label} {...route} />\r\n                )\r\n              )}\r\n            </Switch>\r\n          </Suspense>\r\n        </Layout>\r\n      </BrowserRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\n","import { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport contactsReducer from \"./contacts/contactsReducer\";\r\nimport authReducer from \"./auth/authReducer\";\r\n\r\nconst authPersistConfig = {\r\n  key: \"auth\",\r\n  storage,\r\n  whitelist: [\"token\"],\r\n};\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    contacts: contactsReducer,\r\n    auth: persistReducer(authPersistConfig, authReducer),\r\n   \r\n  },\r\n  \r\n  middleware: getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n});\r\n\r\nexport const persistor = persistStore(store);","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\nimport App from \"./components/App/App\";\r\nimport { store, persistor } from './redux/store';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <PersistGate loading={null} persistor={persistor}>\r\n        <App />\r\n    </PersistGate>\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n","import authActions from \"./authActions\";\r\nimport axios from \"axios\";\r\nimport { getErrorText } from \"../../constants/errorConstants\";\r\nimport errorMessage from \"../../helpers/errorMessage\";\r\n\r\nconst token = {\r\n  set(tokenId) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${tokenId}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = \"\";\r\n  },\r\n};\r\n\r\naxios.defaults.baseURL = \"https://goit-phonebook-api.herokuapp.com\";\r\naxios.defaults.headers.post[\"Content-Type\"] = \"application/json\";\r\n\r\nconst register = (credentials) => (dispatch) => {\r\n  dispatch(authActions.registerRequest());\r\n\r\n  axios\r\n    .post(\"/users/signup\", credentials)\r\n    .then((response) => {\r\n      token.set(response.data.token);\r\n      dispatch(authActions.registerSuccess(response.data));\r\n    })\r\n\r\n    .catch((error) => {\r\n      errorMessage(getErrorText(\"registerErr\"));\r\n      dispatch(authActions.registerError(error.message));\r\n    });\r\n};\r\n\r\nconst login = (credentials) => (dispatch) => {\r\n  dispatch(authActions.loginRequest());\r\n\r\n  axios\r\n    .post(\"/users/login\", credentials)\r\n    .then((response) => {\r\n      token.set(response.data.token);\r\n      dispatch(authActions.loginSuccess(response.data));\r\n    })\r\n    .catch((error) => {\r\n      errorMessage(getErrorText(\"loginErr\"));\r\n      dispatch(authActions.loginError(error.message));\r\n    });\r\n};\r\n\r\nconst logout = () => (dispatch) => {\r\n  dispatch(authActions.logoutRequest());\r\n\r\n  axios\r\n    .post(\"/users/logout\")\r\n    .then((response) => {\r\n      token.unset();\r\n      dispatch(authActions.logoutSuccess(response.data));\r\n    })\r\n    .catch((error) => {\r\n      error.message = \"Request failed with status code 401\"\r\n        ? errorMessage(getErrorText(\"logoutTokenErr\"))\r\n        : errorMessage(getErrorText(\"logoutServerErr\"));\r\n      dispatch(authActions.logoutError(error.message));\r\n    });\r\n};\r\n\r\nconst getCurrentUser = () => (dispatch, getState) => {\r\n  const {\r\n    auth: { token: persistedToken },\r\n  } = getState();\r\n\r\n  if (!persistedToken) {\r\n    return;\r\n  }\r\n\r\n  token.set(persistedToken);\r\n  dispatch(authActions.getCurrentUserRequest());\r\n\r\n  axios\r\n    .get(\"/users/current\")\r\n    .then((response) =>\r\n      dispatch(authActions.getCurrentUserSuccess(response.data))\r\n    )\r\n    .catch((error) => {\r\n      errorMessage(getErrorText(\"getUserErr\"));\r\n      dispatch(authActions.getCurrentUserError(error.message));\r\n      localStorage.clear();\r\n    });\r\n};\r\n\r\nexport default { register, login, logout, getCurrentUser };\r\n","const isAuthenticated = (state) => state.auth.token;\r\n\r\nconst getUserName = (state) => state.auth.user.name;\r\n\r\nconst getError = (state) => state.auth.error;\r\n\r\nexport default { isAuthenticated, getUserName, getError };\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Navigation_container__3k1OP\",\"link\":\"Navigation_link__2JQ-D\",\"activeLink\":\"Navigation_activeLink__2BYbJ\"};","export const errors = [\r\n  { type: \"registerErr\", text: \"User creation error\" },\r\n  { type: \"loginErr\", text: \"Login error\" },\r\n  { type: \"logoutTokenErr\", text: \"No token header\" },\r\n  { type: \"logoutServerErr\", text: \"Server error\" },\r\n  { type: \"getUserErr\", text: \"No token header\" },\r\n  { type: \"deleteUserTokenErr\", text: \"No token header\" },\r\n  { type: \"deleteUserServerErr\", text: \"Server error\" },\r\n  { type: \"getContactsTokenErr\", text: \"No token header\" },\r\n  {\r\n    type: \"getContactsErr\",\r\n    text: \"The collection of such an owner does not exist\",\r\n  },\r\n  { type: \"getContactsServerErr\", text: \"Server error\" },\r\n  { type: \"postContactErr\", text: \"Error creating contact\" },\r\n  { type: \"postContactTokenErr\", text: \"No token header\" },\r\n  { type: \"deleteContactTokenErr\", text: \"No token header\" },\r\n  {\r\n    type: \"deleteContactErr\",\r\n    text: \"The collection of such an owner does not exist\",\r\n  },\r\n  { type: \"deleteContactServerErr\", text: \"Server error\" },\r\n];\r\n\r\nexport const getErrorText = (message) => {\r\n  const errorText = errors.find((error) => error.type === message);\r\n  return errorText.text;\r\n};\r\n","import Swal from \"sweetalert2\";\r\n\r\nconst errorMessage = (text) => {\r\n  Swal.fire({\r\n    icon: \"error\",\r\n    title: \"Oops...\",\r\n    text: text,\r\n  });\r\n};\r\n\r\nexport default errorMessage;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"AuthNav_link__3oNY0\",\"activeLink\":\"AuthNav_activeLink__3cdKO\"};","import { combineReducers } from \"redux\";\r\nimport { createReducer } from \"@reduxjs/toolkit\";\r\nimport authActions from \"./authActions\";\r\n\r\nconst initialUserState = { name: null, email: null };\r\n\r\nconst user = createReducer(initialUserState, {\r\n  [authActions.registerSuccess]: (_, { payload }) => payload.user,\r\n  [authActions.loginSuccess]: (_, {payload}) => payload.user,\r\n  [authActions.logoutSuccess]: () => initialUserState,\r\n  [authActions.getCurrentUserSuccess]: (_, { payload }) => payload,\r\n});\r\n\r\nconst token = createReducer(null, {\r\n  [authActions.registerSuccess]: (_, { payload }) => payload.token,\r\n  [authActions.loginSuccess]: (_, { payload }) => payload.token,\r\n  [authActions.logoutSuccess]: () => null,\r\n});\r\n\r\nconst error = createReducer(null, {\r\n  [authActions.registerError]: (_, { payload }) => payload,\r\n  [authActions.loginError]: (_, { payload }) => payload,\r\n  [authActions.logoutError]: (_, { payload }) => payload,\r\n  [authActions.getCurrentUserError]: (_, { payload }) => payload,\r\n});\r\n\r\nexport default combineReducers({user, token, error})\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserMenu_container__2Owk6\",\"name\":\"UserMenu_name__2L1Jp\"};","import { combineReducers } from \"redux\";\r\nimport { createReducer } from \"@reduxjs/toolkit\";\r\nimport contactActions from \"./contactsActions\";\r\n\r\nconst onAddAction = (state, action) => {\r\n  return [...state, action.payload];\r\n};\r\n\r\nconst onRemoveAction = (state, { payload }) => {\r\n  return state.filter(contact => contact.id !== payload);\r\n};\r\n\r\nconst onChangeFilter = (_, { payload }) => {\r\n  return payload;\r\n};\r\n\r\nconst items = createReducer([], {\r\n  [contactActions.fetchContactsSuccess]: (_, action) => action.payload,\r\n  [contactActions.addContactsSuccess]: onAddAction,\r\n  [contactActions.removeContactsSuccess]: onRemoveAction\r\n});\r\n\r\nconst filter = createReducer(\"\", {\r\n  [contactActions.changeFilter]: onChangeFilter\r\n});\r\n\r\nconst error = createReducer(null, {\r\n  [contactActions.fetchError]: (_, { payload }) => payload,\r\n  [contactActions.addError]: (_, { payload }) => payload,\r\n  [contactActions.removeError]: (_, { payload }) => payload\r\n});\r\n\r\nconst loading = createReducer(false, {\r\n  [contactActions.fetchContactsRequest]: () => true,\r\n  [contactActions.fetchContactsSuccess]: () => false,\r\n  [contactActions.fetchContactsError]: () => false,\r\n\r\n  [contactActions.addContactsRequest]: () => true,\r\n  [contactActions.addContactsSuccess]: () => false,\r\n  [contactActions.addContactsError]: () => false,\r\n\r\n  [contactActions.removeContactsRequest]: () => true,\r\n  [contactActions.removeContactsSuccess]: () => false,\r\n  [contactActions.removeContactsError]: () => false\r\n});\r\n\r\nexport default combineReducers({\r\n  items,\r\n  filter,\r\n  error,\r\n  loading\r\n});\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"AppBar_container__1J7FD\",\"navigation\":\"AppBar_navigation__3rMq8\",\"right-container\":\"AppBar_right-container__3eUNA\"};","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nconst registerRequest = createAction(\"/auth/registerRequest\");\r\nconst registerSuccess = createAction(\"./auth/registerSuccess\");\r\nconst registerError = createAction(\"./auth/registerError\");\r\n\r\nconst loginRequest = createAction(\"./auth/loginRequest\");\r\nconst loginSuccess = createAction(\"./auth/loginSuccess\");\r\nconst loginError = createAction(\".auth/loginError\");\r\n\r\nconst logoutRequest = createAction('./auth/logoutRequest');\r\nconst logoutSuccess = createAction('./auth/logoutSuccess');\r\nconst logoutError = createAction('./auth/logoutError');\r\n\r\nconst getCurrentUserRequest = createAction('./auth/getCurrentUserRequest');\r\nconst getCurrentUserSuccess = createAction('./auth/getCurrentUserSuccess');\r\nconst getCurrentUserError = createAction('./auth/getCurrentUserError');\r\n\r\nexport default {\r\n  registerRequest,\r\n  registerSuccess,\r\n  registerError,\r\n  loginRequest,\r\n  loginSuccess,\r\n  loginError,\r\n  logoutRequest,\r\n  logoutSuccess,\r\n  logoutError,\r\n  getCurrentUserRequest,\r\n  getCurrentUserSuccess,\r\n  getCurrentUserError\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Layout_container__2whFi\"};"],"sourceRoot":""}