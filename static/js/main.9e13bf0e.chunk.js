(this["webpackJsonpgoit-react-hw-05-phonebook"]=this["webpackJsonpgoit-react-hw-05-phonebook"]||[]).push([[1],{13:function(e,t,n){"use strict";var r=n(4),a=Object(r.b)("/contacts/addRequest"),c=Object(r.b)("/contacts/addSuccess"),o=Object(r.b)("/contacts/addError"),u=Object(r.b)("/contacts/fetchRequest"),s=Object(r.b)("/contacts/fetchSuccess"),i=Object(r.b)("/contacts/fetchError"),l=Object(r.b)("/contacts/removeRequest"),b=Object(r.b)("/contacts/removeSuccess"),g=Object(r.b)("/contacts/removeError"),f=Object(r.b)("contacts/changeFilter");t.a={addContactsRequest:a,addContactsSuccess:c,addContactsError:o,fetchContactsRequest:u,fetchContactsSuccess:s,fetchContactsError:i,removeContactsRequest:l,removeContactsSuccess:b,removeContactsError:g,changeFilter:f}},141:function(e,t,n){},142:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(9),o=n.n(c),u=n(16),s=n(77),i=n(22),l=n(32),b=n(178),g=n(18),f=n(57),d=n(171),m=n(39),h=n.n(m);function p(){var e=Object(u.c)((function(e){return g.b.isAuthenticated(e)}));return a.a.createElement("nav",{className:h.a.container},a.a.createElement(i.b,{to:"/",exact:!0,className:h.a.link,activeClassName:h.a.activeLink},a.a.createElement("svg",{className:"umbrella",width:"24",height:"24",viewBox:"0 0 24 24","aria-labelledby":"goHomePage"},a.a.createElement("title",{id:"homeIcon"},"Home"),a.a.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}))),e&&a.a.createElement(a.a.Fragment,null,a.a.createElement(d.a,null),a.a.createElement(i.b,{to:"/contacts",exact:!0,className:h.a.link,activeClassName:h.a.activeLink},"Contacts")))}var E=n(175),O=n(56),j=n.n(O);function v(){var e=Object(u.b)(),t=Object(u.c)((function(e){return g.b.getUserName(e)}));return a.a.createElement("div",{className:j.a.container},a.a.createElement("p",{className:j.a.name},"Welcome, ",t),a.a.createElement(E.a,{edge:"start",color:"inherit","aria-label":"menu",title:"Logout",onClick:function(){return e(g.a.logout())}},a.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{fill:"currentColor",d:"M16,17V14H9V10H16V7L21,12L16,17M14,2A2,2 0 0,1 16,4V6H14V4H5V20H14V18H16V20A2,2 0 0,1 14,22H5A2,2 0 0,1 3,20V4A2,2 0 0,1 5,2H14Z"}))))}var C=n(45),k=n.n(C),y=function(){return a.a.createElement("div",null,a.a.createElement(i.b,{to:"/register",exact:!0,className:k.a.link,activeClassName:k.a.activeLink},"Register"),a.a.createElement(i.b,{to:"/login",exact:!0,className:k.a.link,activeClassName:k.a.activeLink},"Login"))},S=n(176),x=n(177),_=n(80),N=n.n(_),R=n(147),U=n(180),q=n(79),A=n.n(q);function L(){var e=Object(u.c)((function(e){return g.b.isAuthenticated(e)})),t=Object(r.useState)(null),n=Object(f.a)(t,2),c=n[0],o=n[1];return a.a.createElement("div",null,a.a.createElement(S.a,{position:"static"},a.a.createElement(x.a,{className:A.a.container},a.a.createElement(E.a,{edge:"start",color:"inherit",title:"Menu","aria-label":"menu",onClick:function(e){o(e.currentTarget)}},a.a.createElement(N.a,null)),a.a.createElement(R.a,{anchorEl:c,keepMounted:!0,open:Boolean(c),onClose:function(){o(null)}},a.a.createElement(U.a,null,a.a.createElement(p,null))),a.a.createElement("div",{style:{display:"flex"}},e?a.a.createElement(v,null):a.a.createElement(y,null)))))}var w=n(81),H=n.n(w),B=function(e){var t=e.children;return a.a.createElement("div",{className:H.a.container},a.a.createElement(L,null),t)},T=[{path:"/",label:"Home",exact:!0,component:Object(r.lazy)((function(){return n.e(7).then(n.bind(null,208))})),private:!1,restricted:!1},{path:"/register",label:"Register",exact:!0,component:Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,209))})),private:!1,restricted:!0},{path:"/login",label:"Login",exact:!0,component:Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,210))})),private:!1,restricted:!0},{path:"/contacts",label:"Contacts",exact:!0,component:Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,212))})),private:!0,restricted:!1}],F=n(52);function V(e){var t=e.component,n=Object(F.a)(e,["component"]),r=Object(u.c)((function(e){return g.b.isAuthenticated(e)}));return a.a.createElement(l.b,Object.assign({},n,{render:function(e){return r&&n.restricted?a.a.createElement(l.a,{to:"/contacts"}):a.a.createElement(t,e)}}))}function z(e){var t=e.component,n=Object(F.a)(e,["component"]),r=Object(u.c)((function(e){return g.b.isAuthenticated(e)}));return a.a.createElement(l.b,Object.assign({},n,{render:function(e){return r?a.a.createElement(t,e):a.a.createElement(l.a,{to:"/login"})}}))}var M=n(82),J=n.n(M);function P(){var e=Object(u.b)();return Object(r.useEffect)((function(){e(g.a.getCurrentUser())}),[e]),a.a.createElement("div",null,a.a.createElement(i.a,null,a.a.createElement(b.a,null),a.a.createElement(B,null,a.a.createElement(r.Suspense,{fallback:a.a.createElement(J.a,{type:"Oval",color:"#00BFFF",height:50,width:50,style:{position:"absolute",left:"50%",top:"90px"}})},a.a.createElement(l.d,null,T.map((function(e){return e.private?a.a.createElement(z,Object.assign({key:e.label},e)):a.a.createElement(V,Object.assign({key:e.label},e))})))))))}var D=n(4),I=n(29),Y=n(83),K=n.n(Y),Q=n(60),W=n(46),Z={key:"auth",storage:K.a,whitelist:["token"]},G=Object(D.a)({reducer:{contacts:Q.a,auth:Object(I.g)(Z,W.a)},middleware:Object(D.d)({serializableCheck:{ignoredActions:[I.a,I.f,I.b,I.c,I.d,I.e]}})}),X=Object(I.h)(G);n(141);o.a.render(a.a.createElement(u.a,{store:G},a.a.createElement(s.a,{loading:null,persistor:X},a.a.createElement(P,null))),document.getElementById("root"))},18:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return b}));var r=n(8),a=n(28),c=n.n(a),o=n(41),u=n(42),s=function(e){c.a.defaults.headers.common.Authorization="Bearer ".concat(e)},i=function(){c.a.defaults.headers.common.Authorization=""};c.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com",c.a.defaults.headers.post["Content-Type"]="application/json";var l={register:function(e){return function(t){t(r.a.registerRequest()),c.a.post("/users/signup",e).then((function(e){s(e.data.token),t(r.a.registerSuccess(e.data))})).catch((function(e){Object(u.a)(Object(o.a)("registerErr")),t(r.a.registerError(e.message))}))}},login:function(e){return function(t){t(r.a.loginRequest()),c.a.post("/users/login",e).then((function(e){s(e.data.token),t(r.a.loginSuccess(e.data))})).catch((function(e){Object(u.a)(Object(o.a)("loginErr")),t(r.a.loginError(e.message))}))}},logout:function(){return function(e){e(r.a.logoutRequest()),c.a.post("/users/logout").then((function(t){i(),e(r.a.logoutSuccess(t.data))})).catch((function(t){t.message=Object(u.a)(Object(o.a)("logoutTokenErr")),e(r.a.logoutError(t.message))}))}},getCurrentUser:function(){return function(e,t){var n=t().auth.token;n&&(s(n),e(r.a.getCurrentUserRequest()),c.a.get("/users/current").then((function(t){return e(r.a.getCurrentUserSuccess(t.data))})).catch((function(t){Object(u.a)(Object(o.a)("getUserErr")),e(r.a.getCurrentUserError(t.message)),localStorage.clear()})))}}},b={isAuthenticated:function(e){return e.auth.token},getUserName:function(e){return e.auth.user.name},getError:function(e){return e.auth.error}};n(46)},39:function(e,t,n){e.exports={container:"Navigation_container__3k1OP",link:"Navigation_link__2JQ-D",activeLink:"Navigation_activeLink__2BYbJ"}},41:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=[{type:"registerErr",text:"User creation error"},{type:"loginErr",text:"Login error"},{type:"logoutTokenErr",text:"No token header"},{type:"logoutServerErr",text:"Server error"},{type:"getUserErr",text:"No token header"},{type:"deleteUserTokenErr",text:"No token header"},{type:"deleteUserServerErr",text:"Server error"},{type:"getContactsTokenErr",text:"No token header"},{type:"getContactsErr",text:"The collection of such an owner does not exist"},{type:"getContactsServerErr",text:"Server error"},{type:"postContactErr",text:"Error creating contact"},{type:"postContactTokenErr",text:"No token header"},{type:"deleteContactTokenErr",text:"No token header"},{type:"deleteContactErr",text:"The collection of such an owner does not exist"},{type:"deleteContactServerErr",text:"Server error"}],a=function(e){return r.find((function(t){return t.type===e})).text}},42:function(e,t,n){"use strict";var r=n(71),a=n.n(r);t.a=function(e){a.a.fire({icon:"error",title:"Oops...",text:e})}},45:function(e,t,n){e.exports={link:"AuthNav_link__3oNY0",activeLink:"AuthNav_activeLink__3cdKO"}},46:function(e,t,n){"use strict";var r,a,c,o=n(6),u=n(11),s=n(4),i=n(8),l={name:null,email:null},b=Object(s.c)(l,(r={},Object(o.a)(r,i.a.registerSuccess,(function(e,t){return t.payload.user})),Object(o.a)(r,i.a.loginSuccess,(function(e,t){return t.payload.user})),Object(o.a)(r,i.a.logoutSuccess,(function(){return l})),Object(o.a)(r,i.a.getCurrentUserSuccess,(function(e,t){return t.payload})),r)),g=Object(s.c)(null,(a={},Object(o.a)(a,i.a.registerSuccess,(function(e,t){return t.payload.token})),Object(o.a)(a,i.a.loginSuccess,(function(e,t){return t.payload.token})),Object(o.a)(a,i.a.logoutSuccess,(function(){return null})),a)),f=Object(s.c)(null,(c={},Object(o.a)(c,i.a.registerError,(function(e,t){return t.payload})),Object(o.a)(c,i.a.loginError,(function(e,t){return t.payload})),Object(o.a)(c,i.a.logoutError,(function(e,t){return t.payload})),Object(o.a)(c,i.a.getCurrentUserError,(function(e,t){return t.payload})),c));t.a=Object(u.c)({user:b,token:g,error:f})},56:function(e,t,n){e.exports={container:"UserMenu_container__2Owk6",name:"UserMenu_name__2L1Jp"}},60:function(e,t,n){"use strict";var r,a,c,o=n(6),u=n(84),s=n(11),i=n(4),l=n(13),b=Object(i.c)([],(r={},Object(o.a)(r,l.a.fetchContactsSuccess,(function(e,t){return t.payload})),Object(o.a)(r,l.a.addContactsSuccess,(function(e,t){return[].concat(Object(u.a)(e),[t.payload])})),Object(o.a)(r,l.a.removeContactsSuccess,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))})),r)),g=Object(i.c)("",Object(o.a)({},l.a.changeFilter,(function(e,t){return t.payload}))),f=Object(i.c)(null,(a={},Object(o.a)(a,l.a.fetchError,(function(e,t){return t.payload})),Object(o.a)(a,l.a.addError,(function(e,t){return t.payload})),Object(o.a)(a,l.a.removeError,(function(e,t){return t.payload})),a)),d=Object(i.c)(!1,(c={},Object(o.a)(c,l.a.fetchContactsRequest,(function(){return!0})),Object(o.a)(c,l.a.fetchContactsSuccess,(function(){return!1})),Object(o.a)(c,l.a.fetchContactsError,(function(){return!1})),Object(o.a)(c,l.a.addContactsRequest,(function(){return!0})),Object(o.a)(c,l.a.addContactsSuccess,(function(){return!1})),Object(o.a)(c,l.a.addContactsError,(function(){return!1})),Object(o.a)(c,l.a.removeContactsRequest,(function(){return!0})),Object(o.a)(c,l.a.removeContactsSuccess,(function(){return!1})),Object(o.a)(c,l.a.removeContactsError,(function(){return!1})),c));t.a=Object(s.c)({items:b,filter:g,error:f,loading:d})},79:function(e,t,n){e.exports={container:"AppBar_container__1J7FD",navigation:"AppBar_navigation__3rMq8","right-container":"AppBar_right-container__3eUNA"}},8:function(e,t,n){"use strict";var r=n(4),a=Object(r.b)("/auth/registerRequest"),c=Object(r.b)("./auth/registerSuccess"),o=Object(r.b)("./auth/registerError"),u=Object(r.b)("./auth/loginRequest"),s=Object(r.b)("./auth/loginSuccess"),i=Object(r.b)(".auth/loginError"),l=Object(r.b)("./auth/logoutRequest"),b=Object(r.b)("./auth/logoutSuccess"),g=Object(r.b)("./auth/logoutError"),f=Object(r.b)("./auth/getCurrentUserRequest"),d=Object(r.b)("./auth/getCurrentUserSuccess"),m=Object(r.b)("./auth/getCurrentUserError");t.a={registerRequest:a,registerSuccess:c,registerError:o,loginRequest:u,loginSuccess:s,loginError:i,logoutRequest:l,logoutSuccess:b,logoutError:g,getCurrentUserRequest:f,getCurrentUserSuccess:d,getCurrentUserError:m}},81:function(e,t,n){e.exports={container:"Layout_container__2whFi"}},92:function(e,t,n){e.exports=n(142)}},[[92,2,3]]]);
//# sourceMappingURL=main.9e13bf0e.chunk.js.map